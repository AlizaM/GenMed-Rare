# Unified Evaluation Configuration Template for Diffusion Model
#
# To evaluate a specific pathology, set the label, checkpoint_dir, output_dir, csv_file, label_subdir, and prompt_template accordingly.

# Example usage:
#   label: "Fibrosis" or "Pneumonia"
#   csv_file: "fibrosis_images.csv" or "pneumonia_images.csv"
#   label_subdir: "fibrosis" or "pneumonia"
#   prompt_template: "A chest X-ray showing fibrosis" or "A chest X-ray showing pneumonia"

# All other parameters can be reused for both pathologies.

evaluation:
  label: &label "Pneumonia"  # e.g., "Fibrosis" or "Pneumonia"
  checkpoint_dir: "/w/20251/alizat/diffusion_outputs/pneumonia_prior_job_17006"
  checkpoint_names:
    - "checkpoint-3500"
    - "checkpoint-3000"
    - "checkpoint-2500"
  output_dir: "/w/20251/alizat/pneumonia"

data:
  data_dir: "/u/alizat/cv_project/GenMed-Rare/data/pure_class_folders"
  csv_file: "pneumonia_images.csv"  # e.g., "fibrosis_images.csv" or "pneumonia_images.csv"
  label_subdir: *label  # e.g., "fibrosis" or "pneumonia"
  image_size: 512
  center_crop: true
  random_flip: false
  prompt_template: "A chest X-ray showing Pneumonia"  # e.g., "A chest X-ray showing fibrosis"

model:
  pretrained_model: "danyalmalik/stable-diffusion-chest-xray"

generation:
  num_images: 100
  num_inference_steps: 50
  guidance_scale: 7.5
  lora_scale: 1.0
  negative_prompt: "blurry, low quality, distorted, artifacts"

hardware:
  enable_attention_slicing: true
  enable_vae_slicing: true
  device: "cuda"

metrics:
  novelty_metric: "correlation"  # Options: "ssim" or "correlation"
  visualize_top_k: 10
  seed: 42
